#:kivy 2.0.0
#:import MDButton kivymd.uix.button.MDButton
#:import MDTopAppBar kivymd.uix.appbar.MDTopAppBar
#:import MDGridLayout kivymd.uix.gridlayout.MDGridLayout
#:import MDScrollView kivymd.uix.scrollview.MDScrollView
#:import MDIconButton kivymd.uix.button.MDIconButton
#:import MDBoxLayout kivymd.uix.boxlayout.MDBoxLayout
#:import MDLabel kivymd.uix.label.MDLabel
#:import dp kivy.metrics.dp

<RolesManagerScreen>:
    name: 'roles_manager'
    
    MDBoxLayout:
        orientation: 'vertical'
        spacing: dp(10)
        padding: dp(10)
        md_bg_color: [1, 1, 1, 1]  # Fond blanc

        # Zone scrollable avec la grille
        MDBoxLayout:
            size_hint_y: None
            height: dp(600)  # Hauteur fixe pour le conteneur

            MDScrollView:
                do_scroll_x: False
                do_scroll_y: True
                bar_width: dp(25)
                bar_color: 0.2, 0.2, 0.9, 1  # Bleu
                bar_inactive_color: 0.2, 0.2, 0.9, 0.5  # Bleu plus transparent
                bar_pos_y: 'right'
                scroll_type: ['bars']
                scroll_wheel_distance: dp(-40)
                size_hint: 1, 1
                effect_cls: 'ScrollEffect'  # Utiliser l'effet de défilement standard

                MDGridLayout:
                    id: roles_grid
                    cols: 1
                    spacing: dp(10)
                    padding: [dp(10), dp(10), dp(25), dp(10)]  # [gauche, haut, droite, bas]
                    size_hint_y: None
                    adaptive_height: True
                    height: self.minimum_height
                    width: root.width - dp(20)  # Largeur de la fenêtre moins marge
