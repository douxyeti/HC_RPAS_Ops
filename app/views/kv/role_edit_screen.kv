#:kivy 2.3.1
#:import MDTextField kivymd.uix.textfield.MDTextField
#:import MDBoxLayout kivymd.uix.boxlayout.MDBoxLayout
#:import MDTopAppBar kivymd.uix.appbar.MDTopAppBar
#:import MDLabel kivymd.uix.label.MDLabel
#:import MDButton kivymd.uix.button.MDButton
#:import MDButtonText kivymd.uix.button.MDButtonText
#:import MDCard kivymd.uix.card.MDCard
#:import Widget kivymd.uix.widget.Widget

<RoleEditScreen>:
    name: 'role_edit'
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: 1, 1, 1, 1  # Fond blanc
        
        MDTopAppBar:
            title: "Édition du rôle"
            elevation: 2
            left_action_items: [['arrow-left', lambda x: root.cancel_edit()]]
            right_action_items: [['content-save', lambda x: root.save_role()]]
        
        # Conteneur flexible pour centrer la carte
        MDBoxLayout:
            orientation: 'vertical'
            padding: dp(20)
            
            # Widget d'espacement flexible
            Widget:
                size_hint_y: 0.15
            
            MDCard:
                orientation: 'vertical'
                size_hint: .9, None
                height: self.minimum_height
                pos_hint: {'center_x': .5}
                padding: dp(20)
                spacing: dp(20)
                elevation: 2
                
                MDLabel:
                    text: "Informations du rôle"
                    font_style: "Headline"
                    adaptive_height: True
                    
                MDTextField:
                    id: name_field
                    hint_text: "Nom du rôle"
                    helper_text: "Entrez le nom du rôle"
                    helper_text_mode: "on_error"
                    required: True
                    mode: "outlined"
                    
                MDTextField:
                    id: description_field
                    hint_text: "Description"
                    helper_text: "Entrez une description pour le rôle"
                    helper_text_mode: "on_error"
                    multiline: True
                    mode: "outlined"
                    
                MDBoxLayout:
                    orientation: 'horizontal'
                    spacing: dp(10)
                    adaptive_height: True
                    size_hint_y: None
                    height: dp(56)
                    padding: [0, dp(20), 0, 0]
                    pos_hint: {'center_x': .5}
                    
                    MDButton:
                        style: "elevated"
                        size_hint_x: None
                        width: dp(120)
                        on_release: root.cancel_edit()
                        md_bg_color: 0.7, 0.7, 0.7, 1  # Gris
                        
                        MDButtonText:
                            text: "Annuler"
                        
                    MDButton:
                        style: "elevated"
                        size_hint_x: None
                        width: dp(120)
                        on_release: root.save_role()
                        md_bg_color: 0, 0.7, 0, 1  # Vert
                        
                        MDButtonText:
                            text: "Enregistrer"
            
            # Widget d'espacement flexible
            Widget:
                size_hint_y: 0.15
